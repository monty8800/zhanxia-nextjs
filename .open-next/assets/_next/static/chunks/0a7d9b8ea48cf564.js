(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21303,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(20755),s=e.i(18566),l=e.i(22016);function d(){let e=(0,s.useRouter)(),[d,o]=(0,t.useState)(!1),[n,i]=(0,t.useState)({content:"",author:"",status:"已发布",sort_order:"0"}),c=async r=>{r.preventDefault(),o(!0);try{let r=(0,a.createClient)(),{error:t}=await r.from("testimonials").insert([{content:n.content,author:n.author,status:n.status,sort_order:parseInt(n.sort_order)}]);if(t)throw t;alert("添加成功！"),e.push("/admin/testimonials")}catch(e){alert("添加失败："+(e instanceof Error?e.message:"未知错误"))}finally{o(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"添加评语"}),(0,r.jsx)(l.default,{href:"/admin/testimonials",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"返回列表"})]}),(0,r.jsxs)("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["评语内容 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{value:n.content,onChange:e=>i({...n,content:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"客户的评价内容...",rows:6,required:!0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"建议字数：50-200字，简洁有力的评价更有说服力"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["评价人 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:n.author,onChange:e=>i({...n,author:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"例如：张先生、王女士、李总",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"状态"}),(0,r.jsxs)("select",{value:n.status,onChange:e=>i({...n,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,r.jsx)("option",{value:"已发布",children:"已发布"}),(0,r.jsx)("option",{value:"草稿",children:"草稿"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"排序顺序"}),(0,r.jsx)("input",{type:"number",value:n.sort_order,onChange:e=>i({...n,sort_order:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0",min:"0"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"数字越小越靠前"})]}),(0,r.jsxs)("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"预览效果："}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-700 dark:to-gray-600 rounded-lg p-6",children:[(0,r.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 italic mb-4",children:['"',n.content||"评语内容将显示在这里...",'"']}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:["— ",n.author||"评价人"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"保存中...":"保存"}),(0,r.jsx)(l.default,{href:"/admin/testimonials",className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition text-center",children:"取消"})]})]})]})}e.s(["default",()=>d,"runtime",0,"edge"])}]);